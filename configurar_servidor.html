<!-- configurar_servidor.html -->
<html>
<head>
    <title>Configurar Servidor</title>
</head>
<body>
    <h1>Configurar Servidor</h1>
    <p>Clique no botão abaixo para configurar o seu servidor de minecraft.</p>
    <button id="botao">Configurar Servidor</button>
    <div id="formulario" style="display: none;">
        <form method="post" action="salvar_servidor.php">
            <label for="nome">Nome do servidor:</label>
            <input type="text" id="nome" name="nome" required><br>
            <label for="ip">IP do servidor:</label>
            <input type="text" id="ip" name="ip" required><br>
            <label for="porta">Porta do servidor:</label>
            <input type="number" id="porta" name="porta" required><br>
            <label for="versao">Versão do servidor:</label>
            <input type="text" id="versao" name="versao" required><br>
            <input type="submit" value="OK">
        </form>
    </div>
    <h2>Lista de usuários que configuraram o servidor</h2>
    <ul id="lista">
        <?php
        // Abrir o arquivo de texto com as informações dos servidores
        $arquivo = fopen("servidores.txt", "r");
        // Ler cada linha do arquivo
        while (($linha = fgets($arquivo)) !== false) {
            // Separar as informações por vírgula
            $info = explode(",", $linha);
            // Pegar o nick, o nome, o ip, a porta e a versão do servidor
            $nick = $info[0];
            $nome = $info[1];
            $ip = $info[2];
            $porta = $info[3];
            $versao = $info[4];
            // Mostrar as informações em uma lista
            echo "<li>$nick: $nome ($ip:$porta) - $versao</li>";
        }
        // Fechar o arquivo
        fclose($arquivo);
        ?>
    </ul>
    <script>
        // Pegar o botão e o formulário pelo id
        var botao = document.getElementById("botao");
        var formulario = document.getElementById("formulario");
        // Adicionar um evento de clique ao botão
        botao.addEventListener("click", function() {
            // Alternar a visibilidade do formulário
            if (formulario.style.display == "none") {
                formulario.style.display = "block";
            } else {
                formulario.style.display = "none";
            }
        });
    </script>
</body>
</html>
